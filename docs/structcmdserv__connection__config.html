<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>cmdserv: cmdserv_connection_config Struct Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">cmdserv
   
   </div>
   <div id="projectbrief">a simple TCP command server</div>
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('structcmdserv__connection__config.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">cmdserv_connection_config Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="cmdserv_connection_config" -->
<p>Start-up configuration for a cmdserv_connection.  
 <a href="structcmdserv__connection__config.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cmdserv__connection__config_8h_source.html">cmdserv_connection_config.h</a>&gt;</code></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcmdserv__connection__config.html#a07fb59a13097c4ec8cc0b11ee25ff496">readbuf_size</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The read-buffer size per client connection.  <a href="#a07fb59a13097c4ec8cc0b11ee25ff496"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcmdserv__connection__config.html#a8ded1dad9bc3d54afe7045e4c52531f3">argc_max</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of arguments a command may consist of.  <a href="#a8ded1dad9bc3d54afe7045e4c52531f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="cmdserv__connection_8h.html#a5e9c831596ba319a88d3bbc5e4f3e111">cmdserv_lineterm</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcmdserv__connection__config.html#a404a5959f4634cdf0161451bb0d6ad6c">lineterm</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration for end-of-line character modes.  <a href="#a404a5959f4634cdf0161451bb0d6ad6c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cmdserv__connection_8h.html#aa06310d8ba8591f210ff9fc1500f6e16">cmdserv_tokenizer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcmdserv__connection__config.html#a29df61334421d144fd4f5982a64991d8">tokenizer</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The tokenizer used to parse command lines.  <a href="#a29df61334421d144fd4f5982a64991d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcmdserv__connection__config.html#a4e6128fd5dd2c44e6e9a13f0b9b5ea53">forward_errors</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Decide if errors should be propagated from the tokenizer stage to your command handler.  <a href="#a4e6128fd5dd2c44e6e9a13f0b9b5ea53"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcmdserv__connection__config.html#ac2684eb89f5c6f496e2a4d13b5aabe1f">cmd_handler</a> )(void *<a class="el" href="structcmdserv__connection__config.html#ae49e1f8d34ac3ad6b1f54e1a14260834">cmd_object</a>, <a class="el" href="cmdserv__connection_8h.html#a78d98a9d57be748fd1a5318726cc623b">cmdserv_connection</a> *connection, int argc, char **argv)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The connection object will do a callback to this handler whenever a command from the client has been parsed and is ready to execute.  <a href="#ac2684eb89f5c6f496e2a4d13b5aabe1f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcmdserv__connection__config.html#ae49e1f8d34ac3ad6b1f54e1a14260834">cmd_object</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to an arbitrary object that will be handed over to you again in your cmd_handler callback as the first argument.  <a href="#ae49e1f8d34ac3ad6b1f54e1a14260834"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcmdserv__connection__config.html#a84ee6132127e898db3c44988d4fe6e10">open_handler</a> )(void *<a class="el" href="structcmdserv__connection__config.html#a9fb216a3dd11a32340c9249d7d5d524c">open_object</a>, <a class="el" href="cmdserv__connection_8h.html#a78d98a9d57be748fd1a5318726cc623b">cmdserv_connection</a> *connection, enum <a class="el" href="cmdserv__connection_8h.html#a0fe0409bc140837278d6d5325af792c7">cmdserv_close_reason</a> reason)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This callback is called for each new connection accepted.  <a href="#a84ee6132127e898db3c44988d4fe6e10"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcmdserv__connection__config.html#a9fb216a3dd11a32340c9249d7d5d524c">open_object</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to an arbitrary object that will be handed over to you again in your open_handler callback as the first argument.  <a href="#a9fb216a3dd11a32340c9249d7d5d524c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcmdserv__connection__config.html#a1d28125a992010fd81f18866c8f60afe">close_handler</a> )(void *<a class="el" href="structcmdserv__connection__config.html#ad9be762d6292a32fb83d361f6b4544e8">close_object</a>, <a class="el" href="cmdserv__connection_8h.html#a78d98a9d57be748fd1a5318726cc623b">cmdserv_connection</a> *connection, enum <a class="el" href="cmdserv__connection_8h.html#a0fe0409bc140837278d6d5325af792c7">cmdserv_close_reason</a> reason)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The connection object will inform its creator when the connection is being closed through this callback.  <a href="#a1d28125a992010fd81f18866c8f60afe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcmdserv__connection__config.html#ad9be762d6292a32fb83d361f6b4544e8">close_object</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to an arbitrary object that will be handed over to you again in your close_handler callback as the first argument.  <a href="#ad9be762d6292a32fb83d361f6b4544e8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcmdserv__connection__config.html#ac25da7977f6f63343b2ff458b235ffc4">log_handler</a> )(void *<a class="el" href="structcmdserv__connection__config.html#a9e75580cab372b0eda7226c5a5d83159">log_object</a>, enum <a class="el" href="cmdserv__logger_8h.html#a6515eeba74338af0b62ec85bc49420cd">cmdserv_logseverity</a> severity, const char *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The callback the connection will send log messages to.  <a href="#ac25da7977f6f63343b2ff458b235ffc4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcmdserv__connection__config.html#a9e75580cab372b0eda7226c5a5d83159">log_object</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to an arbitrary object that will be handed over to you again in your log_handler callback as the first argument.  <a href="#a9e75580cab372b0eda7226c5a5d83159"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcmdserv__connection__config.html#ae8e471f05447c88cf7e1b38b303aa147">client_timeout</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A client will be automatically disconnected after this many seconds of inactivity.  <a href="#ae8e471f05447c88cf7e1b38b303aa147"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Start-up configuration for a cmdserv_connection. </p>
<p>The structure holding the configurable settings handed over to a new cmdserv_connection. You should prefill it using <a class="el" href="cmdserv__connection__config_8h.html#ad03cdb8413b834431879a936955ca5e1" title="The default configuration for a cmdserv_connection.">cmdserv_connection_config_get_defaults()</a> and then change the values you'd like to tweak.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="cmdserv__connection__config_8h.html#ad03cdb8413b834431879a936955ca5e1" title="The default configuration for a cmdserv_connection.">cmdserv_connection_config_get_defaults()</a> <a class="el" href="cmdserv__connection_8h.html#ac6dfa98ac9163a75635f1c428a466f71" title="Accept a new client connection from a listener.">cmdserv_connection_create()</a> </dd></dl>
</div><hr/><h2>Field Documentation</h2>
<a class="anchor" id="a07fb59a13097c4ec8cc0b11ee25ff496"></a><!-- doxytag: member="cmdserv_connection_config::readbuf_size" ref="a07fb59a13097c4ec8cc0b11ee25ff496" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="structcmdserv__connection__config.html#a07fb59a13097c4ec8cc0b11ee25ff496">cmdserv_connection_config::readbuf_size</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The read-buffer size per client connection. </p>
<p>One command must fit into the buffer completely. Thus, this setting limits the maximum length of a command in octets (including the line terminators). </p>

</div>
</div>
<a class="anchor" id="a8ded1dad9bc3d54afe7045e4c52531f3"></a><!-- doxytag: member="cmdserv_connection_config::argc_max" ref="a8ded1dad9bc3d54afe7045e4c52531f3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="structcmdserv__connection__config.html#a8ded1dad9bc3d54afe7045e4c52531f3">cmdserv_connection_config::argc_max</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The maximum number of arguments a command may consist of. </p>
<p>The command itself counts as an argument (arg0), thus argc_max should be set to 3 to parse a command like "command arg1 arg2". </p>

</div>
</div>
<a class="anchor" id="a404a5959f4634cdf0161451bb0d6ad6c"></a><!-- doxytag: member="cmdserv_connection_config::lineterm" ref="a404a5959f4634cdf0161451bb0d6ad6c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cmdserv__connection_8h.html#a5e9c831596ba319a88d3bbc5e4f3e111">cmdserv_lineterm</a> <a class="el" href="structcmdserv__connection__config.html#a404a5959f4634cdf0161451bb0d6ad6c">cmdserv_connection_config::lineterm</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configuration for end-of-line character modes. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="cmdserv__connection_8h.html#a5e9c831596ba319a88d3bbc5e4f3e111a43ab425ae6535468abd1af4ea4ff876e" title="Lines are LF terminated.">CMDSERV_LINETERM_LF</a> <a class="el" href="cmdserv__connection_8h.html#a5e9c831596ba319a88d3bbc5e4f3e111a551d2a05d7531817b030d8842b9d74e0" title="Lines are terminated by LF or CRLF on input, by CRLF on output.">CMDSERV_LINETERM_CRLF_OR_LF</a> <a class="el" href="cmdserv__connection_8h.html#a5e9c831596ba319a88d3bbc5e4f3e111a8b17ba2f85cbe2dbacb30b5d5e675639" title="Lines are terminated by CRLF.">CMDSERV_LINETERM_CRLF</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a29df61334421d144fd4f5982a64991d8"></a><!-- doxytag: member="cmdserv_connection_config::tokenizer" ref="a29df61334421d144fd4f5982a64991d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cmdserv__connection_8h.html#aa06310d8ba8591f210ff9fc1500f6e16">cmdserv_tokenizer</a> <a class="el" href="structcmdserv__connection__config.html#a29df61334421d144fd4f5982a64991d8">cmdserv_connection_config::tokenizer</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The tokenizer used to parse command lines. </p>
<p>See <a class="el" href="cmdserv__tokenize_8h.html#a2f02e13f8c5dca66d285cd4eb3f547ab" title="Parses a string into tokens, splitting at whitespace and handling escapes and quotes, in similar ways as a shell usually does, but without all the magic things like expansion, globbing and more.">cmdserv_tokenize()</a> for an example and documentation, if you want to roll your own tokenizer. That's also the default used by cmdserv.</p>
<p>The tokenizer can also be changed after a connection has been established using <a class="el" href="cmdserv__connection_8h.html#a836295d33e4c5d6b536e98877bccea6b" title="Set a new tokenizer to be used with this connection (and retrieve the current one).">cmdserv_connection_tokenizer()</a>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="cmdserv__tokenize_8h.html#a2f02e13f8c5dca66d285cd4eb3f547ab" title="Parses a string into tokens, splitting at whitespace and handling escapes and quotes, in similar ways as a shell usually does, but without all the magic things like expansion, globbing and more.">cmdserv_tokenize()</a> <a class="el" href="cmdserv__connection_8h.html#a836295d33e4c5d6b536e98877bccea6b" title="Set a new tokenizer to be used with this connection (and retrieve the current one).">cmdserv_connection_tokenizer()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4e6128fd5dd2c44e6e9a13f0b9b5ea53"></a><!-- doxytag: member="cmdserv_connection_config::forward_errors" ref="a4e6128fd5dd2c44e6e9a13f0b9b5ea53" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structcmdserv__connection__config.html#a4e6128fd5dd2c44e6e9a13f0b9b5ea53">cmdserv_connection_config::forward_errors</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decide if errors should be propagated from the tokenizer stage to your command handler. </p>
<p>Using the default configuration, the cmdserv library handles errors happening throughout the tokenizer stage (overflowing the maximum configured number of command arguments or the maximum line length) for you by returning a default error message and a status code of 400 to the client.</p>
<p>If you set this to true on the other hand, no action will be taken and your <a class="el" href="structcmdserv__connection__config.html#ac2684eb89f5c6f496e2a4d13b5aabe1f" title="The connection object will do a callback to this handler whenever a command from the client has been ...">cmd_handler()</a> will be called with argc set to a negative value (one of the defined error constants) so you can take a different action if your protocol demands it.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>CMDSERV_ERR_TOO_MANY_ARGS CMDSERV_ERR_LINE_TOO_LONG <a class="el" href="structcmdserv__connection__config.html#ac2684eb89f5c6f496e2a4d13b5aabe1f" title="The connection object will do a callback to this handler whenever a command from the client has been ...">cmd_handler()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac2684eb89f5c6f496e2a4d13b5aabe1f"></a><!-- doxytag: member="cmdserv_connection_config::cmd_handler" ref="ac2684eb89f5c6f496e2a4d13b5aabe1f" args=")(void *cmd_object, cmdserv_connection *connection, int argc, char **argv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structcmdserv__connection__config.html#ac2684eb89f5c6f496e2a4d13b5aabe1f">cmdserv_connection_config::cmd_handler</a>)(void *<a class="el" href="structcmdserv__connection__config.html#ae49e1f8d34ac3ad6b1f54e1a14260834">cmd_object</a>, <a class="el" href="cmdserv__connection_8h.html#a78d98a9d57be748fd1a5318726cc623b">cmdserv_connection</a> *connection, int argc, char **argv)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The connection object will do a callback to this handler whenever a command from the client has been parsed and is ready to execute. </p>

</div>
</div>
<a class="anchor" id="ae49e1f8d34ac3ad6b1f54e1a14260834"></a><!-- doxytag: member="cmdserv_connection_config::cmd_object" ref="ae49e1f8d34ac3ad6b1f54e1a14260834" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="structcmdserv__connection__config.html#ae49e1f8d34ac3ad6b1f54e1a14260834">cmdserv_connection_config::cmd_object</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A pointer to an arbitrary object that will be handed over to you again in your cmd_handler callback as the first argument. </p>
<p>Set it to NULL if you don't need that. </p>

</div>
</div>
<a class="anchor" id="a84ee6132127e898db3c44988d4fe6e10"></a><!-- doxytag: member="cmdserv_connection_config::open_handler" ref="a84ee6132127e898db3c44988d4fe6e10" args=")(void *open_object, cmdserv_connection *connection, enum cmdserv_close_reason reason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structcmdserv__connection__config.html#a84ee6132127e898db3c44988d4fe6e10">cmdserv_connection_config::open_handler</a>)(void *<a class="el" href="structcmdserv__connection__config.html#a9fb216a3dd11a32340c9249d7d5d524c">open_object</a>, <a class="el" href="cmdserv__connection_8h.html#a78d98a9d57be748fd1a5318726cc623b">cmdserv_connection</a> *connection, enum <a class="el" href="cmdserv__connection_8h.html#a0fe0409bc140837278d6d5325af792c7">cmdserv_close_reason</a> reason)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This callback is called for each new connection accepted. </p>
<p>This would be the right place to display e.g. a connection banner.</p>
<p>The parameter enum cmdserv_close_reason reason will normally be set to 0 (CMDSERV_NO_CLOSE). It might be set to CMDSERV_SERVER_TOO_MANY_CONNECTIONS, though, to notify the open_handler that the connection will be closed again right away, so the handler can possibly take different action (like displaying a different banner). </p>

</div>
</div>
<a class="anchor" id="a9fb216a3dd11a32340c9249d7d5d524c"></a><!-- doxytag: member="cmdserv_connection_config::open_object" ref="a9fb216a3dd11a32340c9249d7d5d524c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="structcmdserv__connection__config.html#a9fb216a3dd11a32340c9249d7d5d524c">cmdserv_connection_config::open_object</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A pointer to an arbitrary object that will be handed over to you again in your open_handler callback as the first argument. </p>
<p>Set it to NULL if you don't need that. </p>

</div>
</div>
<a class="anchor" id="a1d28125a992010fd81f18866c8f60afe"></a><!-- doxytag: member="cmdserv_connection_config::close_handler" ref="a1d28125a992010fd81f18866c8f60afe" args=")(void *close_object, cmdserv_connection *connection, enum cmdserv_close_reason reason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structcmdserv__connection__config.html#a1d28125a992010fd81f18866c8f60afe">cmdserv_connection_config::close_handler</a>)(void *<a class="el" href="structcmdserv__connection__config.html#ad9be762d6292a32fb83d361f6b4544e8">close_object</a>, <a class="el" href="cmdserv__connection_8h.html#a78d98a9d57be748fd1a5318726cc623b">cmdserv_connection</a> *connection, enum <a class="el" href="cmdserv__connection_8h.html#a0fe0409bc140837278d6d5325af792c7">cmdserv_close_reason</a> reason)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The connection object will inform its creator when the connection is being closed through this callback. </p>
<p>The callback will get triggered right before the close on the socket file descriptor. After the callback has returned the file descriptor is invalid and no methods on this object shall be called, as it destructs itself automatically. </p>

</div>
</div>
<a class="anchor" id="ad9be762d6292a32fb83d361f6b4544e8"></a><!-- doxytag: member="cmdserv_connection_config::close_object" ref="ad9be762d6292a32fb83d361f6b4544e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="structcmdserv__connection__config.html#ad9be762d6292a32fb83d361f6b4544e8">cmdserv_connection_config::close_object</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A pointer to an arbitrary object that will be handed over to you again in your close_handler callback as the first argument. </p>
<p>Set it to NULL if you don't need that. </p>

</div>
</div>
<a class="anchor" id="ac25da7977f6f63343b2ff458b235ffc4"></a><!-- doxytag: member="cmdserv_connection_config::log_handler" ref="ac25da7977f6f63343b2ff458b235ffc4" args=")(void *log_object, enum cmdserv_logseverity severity, const char *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structcmdserv__connection__config.html#ac25da7977f6f63343b2ff458b235ffc4">cmdserv_connection_config::log_handler</a>)(void *<a class="el" href="structcmdserv__connection__config.html#a9e75580cab372b0eda7226c5a5d83159">log_object</a>, enum <a class="el" href="cmdserv__logger_8h.html#a6515eeba74338af0b62ec85bc49420cd">cmdserv_logseverity</a> severity, const char *msg)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The callback the connection will send log messages to. </p>
<p>The default is a built-in method that logs to STDERR. </p>

</div>
</div>
<a class="anchor" id="a9e75580cab372b0eda7226c5a5d83159"></a><!-- doxytag: member="cmdserv_connection_config::log_object" ref="a9e75580cab372b0eda7226c5a5d83159" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="structcmdserv__connection__config.html#a9e75580cab372b0eda7226c5a5d83159">cmdserv_connection_config::log_object</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A pointer to an arbitrary object that will be handed over to you again in your log_handler callback as the first argument. </p>
<p>Set it to NULL if you don't need that. </p>

</div>
</div>
<a class="anchor" id="ae8e471f05447c88cf7e1b38b303aa147"></a><!-- doxytag: member="cmdserv_connection_config::client_timeout" ref="ae8e471f05447c88cf7e1b38b303aa147" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t <a class="el" href="structcmdserv__connection__config.html#ae8e471f05447c88cf7e1b38b303aa147">cmdserv_connection_config::client_timeout</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A client will be automatically disconnected after this many seconds of inactivity. </p>
<p>A value of zero disables the timeout (the default).</p>
<p>Note that client inactivity is only checked for once per call to <a class="el" href="cmdserv_8h.html#aac258f7209fdb8b62f8bb0192b5c626f" title="Handle connections.">cmdserv_sleep()</a>. Depending on the timeout chosen there (if it's more than one second and the call is not interrupted by e.g. a signal), it might actually take longer for the inactivity to be detected. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="cmdserv__connection__config_8h_source.html">cmdserv_connection_config.h</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="structcmdserv__connection__config.html">cmdserv_connection_config</a>      </li>

    <li class="footer">Generated on Thu May 24 2018 18:16:04 for cmdserv by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
