<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>cmdserv: cmdserv_tokenize.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">cmdserv
   
   </div>
   <div id="projectbrief">a simple TCP command server</div>
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('cmdserv__tokenize_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cmdserv_tokenize.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Parse a string into tokens in ways similar to a shell.  
<a href="#details">More...</a></p>

<p><a href="cmdserv__tokenize_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cmdserv__tokenize_8h.html#a2f02e13f8c5dca66d285cd4eb3f547ab">cmdserv_tokenize</a> (char *str, char **argv, int argc_max)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a string into tokens, splitting at whitespace and handling escapes and quotes, in similar ways as a shell usually does, but without all the magic things like expansion, globbing and more.  <a href="#a2f02e13f8c5dca66d285cd4eb3f547ab"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Parse a string into tokens in ways similar to a shell. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Beat Vontobel &lt;<a href="mailto:beat.vontobel@futhark.ch">beat.vontobel@futhark.ch</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0.0 </dd></dl>
<dl class="copyright"><dt><b>Copyright:</b></dt><dd>2014, Beat Vontobel</dd></dl>
<h2><a class="anchor" id="LICENSE"></a>
LICENSE</h2>
<p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA. </p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a2f02e13f8c5dca66d285cd4eb3f547ab"></a><!-- doxytag: member="cmdserv_tokenize.h::cmdserv_tokenize" ref="a2f02e13f8c5dca66d285cd4eb3f547ab" args="(char *str, char **argv, int argc_max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="cmdserv__tokenize_8h.html#a2f02e13f8c5dca66d285cd4eb3f547ab">cmdserv_tokenize</a> </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc_max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Parses a string into tokens, splitting at whitespace and handling escapes and quotes, in similar ways as a shell usually does, but without all the magic things like expansion, globbing and more. </p>
<p>Special characters are whitespace (see isspace(3)), the double-quote ("), single-quote ('), and the backslash (\):</p>
<p>Single or multiple whitespace characters separate tokens, unless they appear within quotes or are escaped by a backslash. Whitespace at the beginning or the end of the line is completely ignored.</p>
<p>Either a double-quote or a single-quote starts a quoted string (both are treated equally) running until an unescaped matching quote character is found. Whitespace and the respective other quote character loose their special meaning within a quoted string.</p>
<p>Every character (special or not, except for the C string terminator ASCII 0) can be escaped by a backslash character. Special characters, including the backslash itself, loose their special meaning and are used literally, standing for themselves, if escaped. Characters without a special meaning do not behave differently if escaped and stand always for themselves.</p>
<p>Buffers for the function must be provided by the caller. The zero-terminated string *str is modified in place (call with a copy if you need to preserve the original) and used as the storage space for the individual tokens, but the function guarantees to never use more than the length of the original string.</p>
<p>Pointers to the individual tokens are stored in **argv which must be allocated by the caller. argc_max takes the size of the pointer array. The function will add NULL as a terminator after the last token in **argv. Because of that one actual argument less than argc_max can be parsed.</p>
<p>The function returns the number of arguments actually parsed (argc) or -1 on error (overflow if more than argc_max minus one arguments were actually available). The contents of *str and **argv are undefined on error after the function call.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>Pointer to the buffer holding a zero-terminated command string to be tokenized. Will be overwritten with the parsed arguments.</td></tr>
    <tr><td class="paramname">argv</td><td>Pointer to the array of zero-terminated argument strings parsed from the command string. The storage space for the pointer-array must be provided by the caller.</td></tr>
    <tr><td class="paramname">argc_max</td><td>The maximum number of arguments (plus one for the terminating NULL) to parse.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of arguments parsed (argc) or -1 on errors. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="cmdserv__tokenize_8h.html">cmdserv_tokenize.h</a>      </li>

    <li class="footer">Generated on Thu May 24 2018 18:16:04 for cmdserv by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
